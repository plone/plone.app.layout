<tal:contentviews tal:define="
                    ploneview context/@@plone;
                    locked view/locked_icon;
                    icons python:context.restrictedTraverse('@@iconresolver');
                  "
                  tal:condition="ploneview/showToolbar"
                  i18n:domain="plone"
>
  <tal:actions tal:repeat="action options/actions">
    <li class="nav-item"
        id="contentview-${action/id}"
        tal:define="
          actionid action/id;
          selected action/selected | python:False;
        "
    >

      <a class="nav-link ${python:'locked' if locked and actionid == 'history' else ''} ${action/cssClass | nothing} ${python:'active' if selected else None}"
         href="#"
         tal:attributes="
           href action/url;
           target action/link_target|nothing;
         "
      >

        <tal:if condition="python:actionid != 'history'">
          <tal:icon tal:condition="python:action['icon']"
                    tal:replace="structure python:icons.tag(action['icon'] or 'toolbar-action', tag_class='me-1')"
          />
          <span class="toolbar-label"
                tal:content="action/title"
                i18n:translate=""
          >View name</span>
        </tal:if>

        <tal:if tal:condition="python:actionid == 'history'">
          <tal:icon tal:replace="structure python:icons.tag('lock' if locked else action['icon'], tag_class='me-1')" />
          <span class="toolbar-label">
            <time class="pat-display-time"
                  datetime="${context/ModificationDate}"
                  data-pat-display-time="output-format: L LTS"
                  tal:content=""
            >${context/ModificationDate}</time>
          </span>
        </tal:if>

      </a>

    </li>
  </tal:actions>
</tal:contentviews>
